#!/usr/bin/env bash

# Project paths
export PYTHONPATH="$PWD/src:$PYTHONPATH"
export TAROTAI_DATA_DIR="$PWD/data"
export TAROTAI_CONFIG_FILE="$PWD/config/config.yaml"

# Prevent interference with aider's environment
if [[ -z "${AIDER_SESSION}" ]]; then
    # Only set these if not in an aider session
    export VIRTUAL_ENV="$PWD/.venv"
    export VIRTUAL_ENV_PROMPT="(tarot) "
    PATH_add "$VIRTUAL_ENV/bin"
fi

# API Keys (loaded from .env if exists)
dotenv_if_exists .env

# Watch these files for changes
watch_file pyproject.toml
watch_file requirements.txt
